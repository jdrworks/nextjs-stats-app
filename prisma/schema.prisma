generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Deck {
  id          Int          @id @default(autoincrement())
  name        String
  playerId    Int
  player      Player       @relation(fields: [playerId], references: [id])
  gameResults GameResult[]
}

model Game {
  id          Int          @id @default(autoincrement())
  datetime    DateTime     @default(now())
  gameResults GameResult[]
}

model Player {
  id          Int          @id @default(autoincrement())
  name        String
  decks       Deck[]
  gameResults GameResult[]
}

model GameResult {
  id       Int @id @default(autoincrement())
  deckId   Int
  gameId   Int
  playerId Int

  deck   Deck   @relation(fields: [deckId], references: [id])
  game   Game   @relation(fields: [gameId], references: [id])
  player Player @relation(fields: [playerId], references: [id])

  position Int
}
